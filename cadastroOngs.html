<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/cadastro.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
  <title>Zero Fome - Tela de Cadastro ONG</title>
  <style>
    #mensagemConfirmacao {
      display: none;
      margin-top: 20px;
      padding: 15px;
      border-radius: 5px;
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
  </style>
</head>

<body>
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
  </script>

  <div id="menu">
    <a href="index.html">
      <img src="img/logonova.png" alt="Logo Zero Fome">
    </a>

    <ul>
      <li><a href="quemsomos.html">Quem Somos</a></li>
      <li><a href="doardinheiro.html">Quero Doar</a></li>
      <li><a href="cesta.html">Doar cestas</a></li>
      <li><a href="cadastroOngs.html">Quero ser uma ONG</a></li>
      <li><a href="cursos.html">Cursos</a></li>
    </ul>
    
    <div class="gtranslate_wrapper"></div>
    <script>window.gtranslateSettings = {"default_language":"pt","native_language_names":true,"languages":["pt","en"],"wrapper_selector":".gtranslate_wrapper","alt_flags":{"en":"usa","pt":"brazil"}}</script>
    <script src="https://cdn.gtranslate.net/widgets/latest/fn.js" defer></script>
    <div id="user">
      <a href="#"><img src="img/user.png" alt="Usuário"></a>
      <a href="entrar.html">Entrar</a>
    </div>
  </div>

<div class="container my-5">
  <h2 class="mb-4" style="color: red;">Cadastrar ONG</h2>

  <form id="formCadastro">
    <div class="row mb-3">
      <div class="col-md-6">
        <label for="nome" class="form-label">Nome da ONG</label>
        <input type="text" class="form-control" id="nome" placeholder="Ex: Alimento Solidário" required>
      </div>
      <div class="col-md-6">
        <label for="cnpj" class="form-label">CNPJ</label>
        <input type="number" class="form-control" id="cnpj" placeholder="00.000.000/0000-00" maxlength="18" required>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" id="email" placeholder="zerofome@gmail.com" required>
      </div>
      <div class="col-md-6">
        <label for="telefone" class="form-label">Telefone</label>
        <input type="number" class="form-control" id="telefone" placeholder="(00) 00000-0000" maxlength="15" required>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-3">
        <label for="cep" class="form-label">CEP</label>
        <input type="text" class="form-control" id="cep" placeholder="00000-000" maxlength="9" required>
      </div>
      <div class="col-md-5">
        <label for="cidade" class="form-label">Cidade</label>
        <input type="text" class="form-control" id="cidade" maxlength="20" required>
      </div>
      <div class="col-md-4">
        <label for="endereco" class="form-label">Endereço</label>
        <input type="text" class="form-control" id="endereco" placeholder="Rua Exemplo" required>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-2">
        <label for="numero" class="form-label">N°</label>
        <input type="number" class="form-control" id="numero" placeholder="22" required>
      </div>
    </div>

    <div class="mb-3">
      <label for="pix" class="form-label">Chave Pix / Conta Bancária</label>
      <input type="text" class="form-control" id="pix" placeholder="Digite sua chave" maxlength="50" required>
    </div>

    <div class="mb-3">
      <label for="descricao" class="form-label">Fale um pouco sobre sua ONG</label>
      <textarea class="form-control" id="descricao" rows="4" placeholder="Descrição da ONG, atuação, etc." required></textarea>
    </div>

    <button type="submit" class="btn btn-danger">Enviar para análise</button>
  </form>

  <div id="mensagemConfirmacao"></div>
</div>

<script>
  document.getElementById('formCadastro').addEventListener('submit', function(event) {
    event.preventDefault(); // Impede o envio tradicional do form

    var email = document.getElementById('email').value;
    var mensagemDiv = document.getElementById('mensagemConfirmacao');

    mensagemDiv.innerHTML = `
      <strong>Sucesso!</strong> Sua solicitação foi enviada!<br>
      Em até <strong>3 dias úteis</strong> uma resposta será encaminhada para o e-mail: <strong>${email}</strong>.
    `;

    mensagemDiv.style.display = 'block';

    // Opcional: Scroll automático até a mensagem
    mensagemDiv.scrollIntoView({ behavior: 'smooth' });
  });
</script>

<script>
  // Função para limpar os campos de endereço
  function limpa_formulário_cep() {
    document.getElementById('cidade').value = "";
    document.getElementById('endereco').value = "";
  }

  // Callback para preencher os campos com os dados da API
  function meu_callback(conteudo) {
    if (!("erro" in conteudo)) {
      // Atualiza os campos com os valores.
      document.getElementById('cidade').value = conteudo.localidade;
      document.getElementById('endereco').value = conteudo.logradouro;
    } else {
      limpa_formulário_cep();
      alert("CEP não encontrado.");
    }
  }

  function pesquisacep(valor) {
    // Remove tudo que não é dígito
    var cep = valor.replace(/\D/g, '');

    if (cep !== "") {
      // Expressão regular para validar o CEP
      var validacep = /^[0-9]{8}$/;

      if(validacep.test(cep)) {
        document.getElementById('cidade').value = "...";
        document.getElementById('endereco').value = "...";

        // Cria um script para fazer a requisição JSONP
        var script = document.createElement('script');

        script.src = 'https://viacep.com.br/ws/'+ cep + '/json/?callback=meu_callback';

        document.body.appendChild(script);

      } else {
        limpa_formulário_cep();
        alert("Formato de CEP inválido.");
      }
    } else {
      limpa_formulário_cep();
    }
  }

  document.getElementById('cep').addEventListener('blur', function() {
    pesquisacep(this.value);
  });
</script>

<script>
  // Função para limpar os campos de endereço
  function limpa_formulário_cep() {
    document.getElementById('cidade').value = "";
    document.getElementById('endereco').value = "";
  }

  // Callback para preencher os campos com os dados da API
  function meu_callback(conteudo) {
    if (!("erro" in conteudo)) {
      // Atualiza os campos com os valores.
      document.getElementById('cidade').value = conteudo.localidade;
      document.getElementById('endereco').value = conteudo.logradouro;
    } else {
      limpa_formulário_cep();
      alert("CEP não encontrado.");
    }
  }

  function pesquisacep(valor) {
    // Remove tudo que não é dígito
    var cep = valor.replace(/\D/g, '');

    if (cep !== "") {
      // Expressão regular para validar o CEP
      var validacep = /^[0-9]{8}$/;

      if(validacep.test(cep)) {
        document.getElementById('cidade').value = "...";
        document.getElementById('endereco').value = "...";

        // Cria um script para fazer a requisição JSONP
        var script = document.createElement('script');

        script.src = 'https://viacep.com.br/ws/'+ cep + '/json/?callback=meu_callback';

        document.body.appendChild(script);

      } else {
        limpa_formulário_cep();
        alert("Formato de CEP inválido.");
      }
    } else {
      limpa_formulário_cep();
    }
  }

  // Máscara para o campo CEP
  function mascaraCEP(event) {
    var tecla = event.key;
    var input = event.target;
    var valor = input.value;

    // Remove tudo que não é número
    valor = valor.replace(/\D/g, '');

    // Aplica a máscara: 00000-000
    if (valor.length > 5) {
      valor = valor.substring(0,5) + '-' + valor.substring(5,8);
    }

    input.value = valor;
  }

  const cepInput = document.getElementById('cep');
  cepInput.addEventListener('input', mascaraCEP);
  cepInput.addEventListener('blur', function() {
    pesquisacep(this.value);
  });
</script>


<footer>
  <p>&copy; 2025 Zero Fome - Todos os direitos reservados.</p>
  <p>Contato: <a href="mailto:contato@zerofome.org">contato@zerofome.org</a></p>
  <p>
    <a href="#">Facebook</a> |
    <a href="#">Instagram</a> |
    <a href="#">WhatsApp</a>
  </p>
</footer>

</body>

</html>
