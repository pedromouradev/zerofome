<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/cadastro.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
    crossorigin="anonymous"></script>
  <title>Zero Fome - Tela de Cadastro ONG</title>
  <style>
    #mensagemConfirmacao {
      display: none;
      margin-top: 20px;
      padding: 15px;
      border-radius: 5px;
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    #botao-tema {
      position: fixed;
      top: 50%;
      left: 20px;
      transform: translateY(-50%);
      background-color: #444;
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 22px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      transition: background-color 0.3s, transform 0.2s;
      z-index: 1000;
    }

    #botao-tema:hover {
      background-color: #666;
      transform: translateY(-50%) scale(1.1);
    }

    body.tema-escuro {
      background-color: #121212 !important;
      color: #f1f1f1 !important;
    }

    body.tema-escuro header,
    body.tema-escuro footer {
      background-color: #1e1e1e !important;
    }

    body.tema-escuro ::placeholder {
      color: #ffffff !important;
    }

    body.tema-escuro a {
      color: #ffb347 !important;
    }

    body.tema-escuro .form-control,
    body.tema-escuro .form-select {
      background-color: #1f1f1f !important;
      color: #f1f1f1 !important;
      border: 1px solid #555 !important;
    }

    body.tema-escuro .btn-danger {
      background-color: #d9534f !important;
      border-color: #d9534f !important;
    }

    body.tema-escuro .btn-outline-danger {
      color: #ffb347 !important;
      border-color: #ffb347 !important;
    }

    body.tema-escuro .btn-outline-danger:hover {
      background-color: #ffb347 !important;
      color: #121212 !important;
    }
  </style>
</head>

<body>
  
  <button id="botao-tema" title="Alternar tema">üåô</button>

  <header>
    <div class="grupoLogo">
      <img src="./img/logonova.png" alt="logo">
    </div>

    <nav id="menuCabecalho" class="menuFechado">
      <div class="topo">
        <h3>Menu</h3>
        <button class="link btnFechar">[ x ]</button>
      </div>
      <a href="index.html">In√≠cio</a>
      <a href="quemsomos.html">Quem somos</a>
      <a href="doardinheiro.html">Quero doar</a>
      <a href="cadastroOngs.html">Quero ser uma ONG</a>
      <a href="cursos.html">Cursos</a>
      <div class="gtranslate_wrapper"></div>
      <script>
        window.gtranslateSettings = {
          "default_language": "en",
          "languages": ["en", "pt"],
          "wrapper_selector": ".gtranslate_wrapper",
          "flag_size": 16,
          "alt_flags": { "pt": "brazil" }
        }
      </script>
      <script src="https://cdn.gtranslate.net/widgets/latest/flags.js" defer></script>
      <p class="base"><span class="ano"></span> ZERO FOME. Todos os direitos reservados.</p>
    </nav>

    <button class="botaoMenu">
      <div class="ret1"></div>
      <div class="ret2"></div>
      <div class="ret3"></div>
    </button>
  </header>

  <div class="container my-5">
    <h2 class="mb-4" style="color: red;">Cadastrar ONG</h2>

    <form id="formCadastro">
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="nome" class="form-label">Nome da ONG</label>
          <input type="text" class="form-control" id="nome" placeholder="Ex: Alimento Solid√°rio" required>
        </div>
        <div class="col-md-6">
          <label for="cnpj" class="form-label">CNPJ</label>
          <input type="text" class="form-control" id="cnpj" placeholder="00.000.000/0000-00" maxlength="18" required>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" id="email" placeholder="zerofome@gmail.com" required>
        </div>
        <div class="col-md-6">
          <label for="telefone" class="form-label">Telefone</label>
          <input type="text" class="form-control" id="telefone" placeholder="(00) 00000-0000" maxlength="15" required>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-3">
          <label for="cep" class="form-label">CEP</label>
          <input type="text" class="form-control" id="cep" placeholder="00000-000" maxlength="9" required>
        </div>
        <div class="col-md-5">
          <label for="cidade" class="form-label">Cidade</label>
          <input type="text" class="form-control" id="cidade" maxlength="200" placeholder="cidade Exemplo" required>
        </div>
        <div class="col-md-4">
          <label for="endereco" class="form-label">Endere√ßo</label>
          <input type="text" class="form-control" id="endereco" placeholder="Rua Exemplo" required>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-2">
          <label for="numero" class="form-label">N¬∞</label>
          <input type="number" class="form-control" id="numero" placeholder="22" required>
        </div>
      </div>

      <div class="mb-3">
        <label for="pix" class="form-label">Chave Pix</label>
        <input type="text" class="form-control" id="pix" placeholder="Digite sua chave" maxlength="50" required>
      </div>

      <div class="mb-3">
        <label for="descricao" class="form-label">Fale um pouco sobre sua ONG</label>
        <textarea class="form-control" id="descricao" rows="4" placeholder="Descri√ß√£o da ONG, atua√ß√£o, etc."
          required></textarea>
      </div>

      <button type="submit" class="btn btn-danger">Enviar para an√°lise</button>
    </form>

    <div id="mensagemConfirmacao"></div>
  </div>

  <footer>
    <p>&copy; 2025 Zero Fome - Todos os direitos reservados.</p>
    <p>Contato: <a href="mailto:contato@zerofome.org">contato@zerofome.org</a></p>
    <p>
      <a href="#">Facebook</a> |
      <a href="#">Instagram</a> |
      <a href="#">WhatsApp</a> |
      <a href="./entrar.html">admin</a> 
    </p>
  </footer>

  <script>
    // ===== Tema Escuro =====
    const botaoTema = document.getElementById("botao-tema");
    const body = document.body;

    if (localStorage.getItem("tema") === "escuro") {
      body.classList.add("tema-escuro");
      botaoTema.textContent = "‚òÄÔ∏è";
    }

    botaoTema.addEventListener("click", () => {
      body.classList.toggle("tema-escuro");
      const temaAtivo = body.classList.contains("tema-escuro") ? "escuro" : "claro";
      localStorage.setItem("tema", temaAtivo);
      botaoTema.textContent = temaAtivo === "escuro" ? "‚òÄÔ∏è" : "üåô";
    });

    // ===== Cadastro com mensagem de confirma√ß√£o =====
    document.getElementById('formCadastro').addEventListener('submit', function (event) {
      event.preventDefault();
      const email = document.getElementById('email').value;
      const mensagemDiv = document.getElementById('mensagemConfirmacao');

      mensagemDiv.innerHTML = `
        <strong>Sucesso!</strong> Sua solicita√ß√£o foi enviada!<br>
        Em at√© <strong>3 dias √∫teis</strong> uma resposta ser√° encaminhada para o e-mail: <strong>${email}</strong>.
      `;
      mensagemDiv.style.display = 'block';
      mensagemDiv.scrollIntoView({ behavior: 'smooth' });
    });

    // ===== M√°scaras =====
    function limpa_formul√°rio_cep() {
      document.getElementById('cidade').value = "";
      document.getElementById('endereco').value = "";
    }

    function meu_callback(conteudo) {
      if (!("erro" in conteudo)) {
        document.getElementById('cidade').value = conteudo.localidade;
        document.getElementById('endereco').value = conteudo.logradouro;
      } else {
        limpa_formul√°rio_cep();
        alert("CEP n√£o encontrado.");
      }
    }

    function pesquisacep(valor) {
      var cep = valor.replace(/\D/g, '');

      if (cep !== "") {

        var validacep = /^[0-9]{8}$/;

        if (validacep.test(cep)) {
          document.getElementById('cidade').value = "...";
          document.getElementById('endereco').value = "...";

          // Cria um script para fazer a requisi√ß√£o JSONP
          var script = document.createElement('script');

          script.src = 'https://viacep.com.br/ws/' + cep + '/json/?callback=meu_callback';

          document.body.appendChild(script);

        } else {
          limpa_formul√°rio_cep();
          alert("Formato de CEP inv√°lido.");
        }
      } else {
        limpa_formul√°rio_cep();
      }
    }

    function mascaraCEP(event) {
      var tecla = event.key;
      var input = event.target;
      var valor = input.value;


      valor = valor.replace(/\D/g, '');


      if (valor.length > 5) {
        valor = valor.substring(0, 5) + '-' + valor.substring(5, 8);
      }

      input.value = valor;
    }

    const cepInput = document.getElementById('cep');
    cepInput.addEventListener('input', mascaraCEP);
    cepInput.addEventListener('blur', function () {
      pesquisacep(this.value);
    });
    function mascaraTelefone(event) {
      let input = event.target;
      let valor = input.value.replace(/\D/g, '');
      if (valor.length > 11) valor = valor.substring(0, 11);
      if (valor.length > 6) {
        valor = `(${valor.substring(0, 2)}) ${valor.substring(2, 7)}-${valor.substring(7, 11)}`;
      } else if (valor.length > 2) {
        valor = `(${valor.substring(0, 2)}) ${valor.substring(2)}`;
      } else if (valor.length > 0) {
        valor = `(${valor}`;
      }
      input.value = valor;
    }

    function mascaraCNPJ(event) {
      let input = event.target;
      let valor = input.value.replace(/\D/g, '');
      if (valor.length > 14) valor = valor.substring(0, 14);
      valor = valor.replace(/^(\d{2})(\d)/, '$1.$2');
      valor = valor.replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3');
      valor = valor.replace(/\.(\d{3})(\d)/, '.$1/$2');
      valor = valor.replace(/(\d{4})(\d)/, '$1-$2');
      input.value = valor;
    }

    function mascaraEmail(event) {
      let input = event.target;
      input.value = input.value.replace(/\s/g, '');
    }

    function mascaraCEP(event) {
      let input = event.target;
      let valor = input.value.replace(/\D/g, '');
      if (valor.length > 8) valor = valor.substring(0, 8);
      if (valor.length > 5) {
        valor = `${valor.substring(0, 5)}-${valor.substring(5, 8)}`;
      }
      input.value = valor;
    }

    document.getElementById('telefone').addEventListener('input', mascaraTelefone);
    document.getElementById('cnpj').addEventListener('input', mascaraCNPJ);
    document.getElementById('email').addEventListener('input', mascaraEmail);
    document.getElementById('cep').addEventListener('input', mascaraCEP);
  </script>
  <script src="./js/scripts.js"></script>

  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
  </script>

</body>

</html>